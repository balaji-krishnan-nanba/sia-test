import{j as e,C as _,B as b,u as Te,S as Be,E as ue}from"./index-DKDRh3Ci.js";import{R as he,c as t,f as $e,u as Ie,h as Qe}from"./react-vendor-CYaOf62E.js";import{g as We,b as qe,c as Pe,Q as De,d as Ue}from"./progressTracker-Ttbwvfu5.js";import{s as Fe}from"./mockTestProgress-BuL2M9rS.js";import{M as He}from"./Modal-B4PKGg3O.js";import"./supabase-Dgb8Dr8T.js";import"./questionLoader-DjJgUGhF.js";import"./Badge-DEFM6kQD.js";const ge=he.memo(({duration:g,onTimeUp:f,isRunning:p,onPause:l,onResume:n,showControls:S=!0})=>{const[r,T]=t.useState(g),[o,N]=t.useState(!p);t.useEffect(()=>{T(g)},[g]),t.useEffect(()=>{N(!p)},[p]),t.useEffect(()=>{if(o||r<=0)return;const y=setInterval(()=>{T(w=>w<=1?(f(),0):w-1)},1e3);return()=>clearInterval(y)},[o,r,f]);const B=t.useMemo(()=>{const y=Math.floor(r/60),w=r%60;return`${y.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`},[r]),L=t.useMemo(()=>r/g*100,[r,g]),$=t.useMemo(()=>r<=60?"text-error-600":r<=300?"text-warning-600":"text-secondary-600",[r]),I=t.useMemo(()=>r<=60?"bg-error-50 border-error-300":r<=300?"bg-warning-50 border-warning-300":"bg-secondary-50 border-secondary-300",[r]),d=t.useCallback(()=>{o?(N(!1),n==null||n()):(N(!0),l==null||l())},[o,l,n]);return t.useEffect(()=>{r===60&&"Notification"in window&&Notification.permission==="granted"&&new Notification("Time Warning",{body:"Only 1 minute remaining!",icon:"/favicon.ico"})},[r]),e.jsxs("div",{className:`rounded-lg border-2 p-4 transition-colors ${I}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("svg",{className:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-3xl font-bold font-mono ${$}`,children:B}),e.jsx("p",{className:"text-xs text-gray-600",children:r<=60?"Hurry up!":r<=300?"Time running out":"Time remaining"})]})]}),S&&l&&n&&e.jsx("button",{onClick:d,className:"p-2 rounded-md hover:bg-white/50 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors","aria-label":o?"Resume timer":"Pause timer",children:o?e.jsx("svg",{className:"h-6 w-6 text-gray-700",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}):e.jsx("svg",{className:"h-6 w-6 text-gray-700",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:"h-1.5 w-full bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-1000 ${r<=60?"bg-error-500":r<=300?"bg-warning-500":"bg-secondary-500"}`,style:{width:`${L}%`},role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":g,"aria-label":"Time remaining"})})}),o&&e.jsx("p",{className:"mt-2 text-sm text-center text-gray-600 font-medium",children:"Timer Paused"})]})});ge.displayName="Timer";const fe=he.memo(({score:g,totalQuestions:f,percentage:p,passed:l,passingScore:n,timeUsed:S,timeLimit:r,unitBreakdown:T,onReviewAnswers:o,onRetake:N,onDashboard:B,showCelebration:L=!0})=>{const $=d=>{const y=Math.floor(d/60),w=d%60;return`${y}m ${w}s`},I=t.useMemo(()=>Math.round(S/f),[S,f]);return e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:`text-center mb-8 ${l?"animate-fade-in":""}`,children:[e.jsx("div",{className:`inline-flex items-center justify-center w-24 h-24 rounded-full mb-4 ${l?"bg-accent-100":"bg-error-100"}`,children:l?e.jsx("svg",{className:"w-16 h-16 text-accent-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):e.jsx("svg",{className:"w-16 h-16 text-error-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("h1",{className:`text-4xl font-bold mb-2 ${l?"text-accent-900":"text-error-900"}`,children:l?"Congratulations!":"Not Quite There"}),e.jsx("p",{className:"text-xl text-gray-600",children:l?"You passed the mock exam!":`You need ${n}% to pass. Keep practicing!`})]}),e.jsx(_,{variant:"elevated",padding:"lg",className:"mb-6",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your Score"}),e.jsxs("p",{className:"text-5xl font-bold text-gray-900 mb-1",children:[g,e.jsxs("span",{className:"text-2xl text-gray-500",children:["/",f]})]}),e.jsxs("p",{className:`text-2xl font-semibold ${l?"text-accent-600":"text-error-600"}`,children:[p,"%"]})]}),e.jsxs("div",{className:"text-center border-l border-r border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Time Used"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:$(S)}),e.jsxs("p",{className:"text-sm text-gray-500",children:["of ",$(r)," available"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Avg: ",I,"s per question"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Required to Pass"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:[n,"%"]}),e.jsx("p",{className:`text-sm font-medium ${p>=n?"text-accent-600":"text-error-600"}`,children:p>=n?`+${(p-n).toFixed(1)}% above`:`${(n-p).toFixed(1)}% below`})]})]})}),e.jsxs(_,{padding:"lg",className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Performance by Unit"}),e.jsx("div",{className:"space-y-4",children:T.map(d=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Unit ",d.unitNumber,": ",d.unitTitle]}),e.jsxs("p",{className:"text-xs text-gray-600",children:[d.correctAnswers," / ",d.totalQuestions," correct"]})]}),e.jsxs("span",{className:`text-sm font-semibold ${d.accuracy>=80?"text-accent-600":d.accuracy>=60?"text-warning-600":"text-error-600"}`,children:[d.accuracy,"%"]})]}),e.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 ${d.accuracy>=80?"bg-accent-500":d.accuracy>=60?"bg-warning-500":"bg-error-500"}`,style:{width:`${d.accuracy}%`}})})]},d.unitNumber))})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(b,{variant:"primary",size:"lg",fullWidth:!0,onClick:o,leftIcon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),children:"Review Answers"}),e.jsx(b,{variant:"secondary",size:"lg",fullWidth:!0,onClick:N,leftIcon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),children:"Retake Exam"}),e.jsx(b,{variant:"ghost",size:"lg",fullWidth:!0,onClick:B,leftIcon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),children:"Back to Dashboard"})]}),l&&L&&e.jsx("div",{className:"fixed inset-0 pointer-events-none flex items-center justify-center z-50",children:e.jsx("div",{className:"text-8xl animate-bounce",children:"ðŸŽ‰"})})]})});fe.displayName="ResultsScreen";function Ve(g,f){const p=g in ue?g:"door-supervisor",l=ue[p];if(f&&f>0&&f<=l.examPapers.length){const n=l.examPapers[f-1];return{totalQuestions:n.questions,timeLimitSeconds:n.timeMinutes*60,timeLimitMinutes:n.timeMinutes,passingScore:n.passingScore,examName:l.name,examCode:l.code,examPaper:n,examPaperName:n.examName,unitsCovered:n.unitsCovered,isFullExam:!1}}return{totalQuestions:l.totalMcqQuestions,timeLimitSeconds:l.totalTimeMinutes*60,timeLimitMinutes:l.totalTimeMinutes,passingScore:70,examName:l.name,examCode:l.code,examPaper:null,examPaperName:"Full Exam",unitsCovered:l.examPapers.flatMap(n=>n.unitsCovered),isFullExam:!0}}function as(){var ie,le,oe,ce;const g=$e(),[f]=Ie(),p=Qe(),{user:l}=Te(),n=p.examSlug||f.get("exam")||"door-supervisor",S=p.testNumber||f.get("testNumber"),r=S?parseInt(S,10):null,T=t.useMemo(()=>Ve(n,r),[n,r]),{totalQuestions:o,timeLimitSeconds:N,timeLimitMinutes:B,passingScore:L,examName:$,examCode:I,examPaperName:d,unitsCovered:y,isFullExam:w}=T,[v,W]=t.useState("pre-exam"),[U,J]=t.useState(!1),[K,O]=t.useState(null),[m,G]=t.useState([]),[x,P]=t.useState(new Map),[c,q]=t.useState(0),[k,X]=t.useState(new Set),[pe,Z]=t.useState(!1),[Ye,ve]=t.useState(N),[F,ee]=t.useState(null),[je,se]=t.useState(!1),[we,D]=t.useState(!1),[_e,Je]=t.useState(!1),[E,te]=t.useState(null),[z,ae]=t.useState(null);t.useEffect(()=>{const s=localStorage.getItem("lastMockExamAttempt");if(s)try{ae(JSON.parse(s))}catch(a){console.error("Error parsing last attempt:",a)}},[]);const be=t.useCallback(async()=>{J(!0),O(null);try{const s=r?We(n,r):void 0,a=await qe(n,o,{shuffleAnswers:!0,ensureBalancedUnits:!w,seed:s,filterUnits:w?void 0:y});if(a.length<o)throw new Error(`Not enough questions available. Expected ${o}, got ${a.length}`);G(a);const i=new Map;a.forEach(u=>{i.set(u.id,{questionId:u.id,selectedAnswer:null,timeSpent:0,flagged:!1})}),P(i),W("in-progress"),Z(!0),ee(Date.now())}catch(s){console.error("Error starting exam:",s),O(s instanceof Error?s.message:"Failed to start exam. Please try again.")}finally{J(!1)}},[n,r,o,w,y]),Ne=t.useCallback(s=>{if(v!=="in-progress")return;const a=m[c];if(!a)return;const i=x.get(a.id);i&&P(new Map(x.set(a.id,{...i,selectedAnswer:s})))},[v,m,c,x]),re=t.useCallback(()=>{const s=new Set(k);s.has(c)?s.delete(c):s.add(c),X(s);const a=m[c];if(!a)return;const i=x.get(a.id);i&&P(new Map(x.set(a.id,{...i,flagged:!i.flagged})))},[c,k,m,x]),ye=t.useCallback(s=>{s>=0&&s<m.length&&q(s)},[m.length]),ke=t.useCallback(()=>{c<m.length-1&&q(c+1)},[c,m.length]),Ce=t.useCallback(()=>{c>0&&q(c-1)},[c]),ne=t.useCallback(()=>{let s=0;const a=new Map;m.forEach(M=>{const j=x.get(M.id),V=M.options.find(Re=>Re.isCorrect),de=(j==null?void 0:j.selectedAnswer)===(V==null?void 0:V.id);de&&s++;const Ae=M.unitId,me=parseInt(Ae.substring(1)),Y=`U${me}`;a.has(Y)||a.set(Y,{total:0,correct:0,title:M.questionText.split(":")[0]||`Unit ${me}`});const xe=a.get(Y);xe.total++,de&&xe.correct++});const i=Math.round(s/o*100),u=i>=L,C=F?Math.floor((Date.now()-F)/1e3):0,R=Array.from(a.entries()).map(([M,j])=>({unitNumber:parseInt(M.substring(1)),unitTitle:j.title,totalQuestions:j.total,correctAnswers:j.correct,accuracy:Math.round(j.correct/j.total*100)})).sort((M,j)=>M.unitNumber-j.unitNumber);return{score:s,percentage:i,passed:u,timeUsed:C,unitBreakdown:R}},[m,x,F]),H=t.useCallback(async()=>{D(!1),Z(!1);const s=ne();te(s),W("completed");const a={score:s.score,percentage:s.percentage,passed:s.passed,date:new Date().toISOString()};if(localStorage.setItem("lastMockExamAttempt",JSON.stringify(a)),ae(a),r&&typeof n=="string"&&Fe({testNumber:r,examSlug:n,score:s.score,totalQuestions:o,percentage:s.percentage,passed:s.passed,timeSpent:s.timeUsed,completedAt:new Date().toISOString()}),l)try{const i=m.map(u=>{const C=x.get(u.id),R=u.options.find(j=>j.isCorrect),M=(C==null?void 0:C.selectedAnswer)===(R==null?void 0:R.id);return{questionId:u.id,userAnswer:(C==null?void 0:C.selectedAnswer)||null,isCorrect:M||!1}});await Pe(l.id,{qualification:I,score:s.percentage,passingScore:L,totalQuestions:o,correctAnswers:s.score,timeSpent:s.timeUsed,questions:i})}catch(i){console.error("Error saving exam result:",i)}},[ne,l,m,x,I]),Me=t.useCallback(()=>{H()},[H]),Se=t.useCallback(()=>{W("review"),q(0)},[]),Le=t.useCallback(()=>{W("pre-exam"),G([]),P(new Map),q(0),X(new Set),ve(N),ee(null),te(null)},[]),Ee=t.useCallback(()=>{g(`/exam/${n}/mock`)},[g,n]),ze=t.useCallback(()=>m.map((s,a)=>{const i=x.get(s.id),u=s.options.find(R=>R.isCorrect),C=v==="review"||v==="completed"?(i==null?void 0:i.selectedAnswer)===(u==null?void 0:u.id):void 0;return{answered:(i==null?void 0:i.selectedAnswer)!==null&&(i==null?void 0:i.selectedAnswer)!==void 0,flagged:k.has(a),correct:C}}),[m,x,k,v]),h=t.useMemo(()=>m.length===0?null:m[c],[m,c]),Q=t.useMemo(()=>h?x.get(h.id):null,[h,x]),A=t.useMemo(()=>{const s=Array.from(x.values()).filter(u=>u.selectedAnswer!==null).length,a=o-s,i=k.size;return{answered:s,unanswered:a,flagged:i}},[x,k]);if(t.useEffect(()=>{const s=a=>{v==="in-progress"&&(a.preventDefault(),a.returnValue="")};return window.addEventListener("beforeunload",s),()=>window.removeEventListener("beforeunload",s)},[v]),v==="pre-exam")return e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:e.jsxs(_,{padding:"lg",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-primary-100 mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[$," ",r?`Exam ${r}`:"Mock Exam"]}),r&&!w&&e.jsx("p",{className:"text-md font-medium text-primary-600 mb-2",children:d}),e.jsx("p",{className:"text-lg text-gray-600",children:r&&!w?`Complete this exam paper covering Unit${y.length>1?"s":""} ${y.join(" & ")}`:"Test your knowledge with a full practice exam"})]}),z&&e.jsxs("div",{className:`mb-6 p-4 rounded-lg ${z.passed?"bg-accent-50 border border-accent-200":"bg-warning-50 border border-warning-200"}`,children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Last Attempt"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Score: ",e.jsxs("span",{className:"font-semibold",children:[z.score,"/",o]})," (",z.percentage,"%)"]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(z.date).toLocaleDateString()})]}),e.jsx("div",{className:`text-lg font-bold ${z.passed?"text-accent-600":"text-warning-600"}`,children:z.passed?"PASSED":"NOT PASSED"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("svg",{className:"w-8 h-8 text-primary-600 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o}),e.jsx("p",{className:"text-sm text-gray-600",children:"Questions"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("svg",{className:"w-8 h-8 text-primary-600 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B}),e.jsx("p",{className:"text-sm text-gray-600",children:"Minutes"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("svg",{className:"w-8 h-8 text-primary-600 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[L,"%"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"To Pass"})]})]}),e.jsxs("div",{className:"mb-8 space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Instructions"}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-accent-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{children:["Answer all ",o," multiple-choice questions"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-accent-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{children:["You have ",B," minutes to complete the exam"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-accent-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"You can navigate between questions and change answers anytime"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-accent-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Flag questions for review if you're unsure"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-accent-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"No feedback will be shown until you submit the exam"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-accent-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"The exam will auto-submit when time expires"})]})]})]}),e.jsxs("div",{className:"mb-8 p-4 bg-primary-50 border border-primary-200 rounded-lg",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-primary-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Tips for Success"]}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[e.jsx("li",{children:"Read each question carefully before answering"}),e.jsx("li",{children:"Manage your time - aim for about 1-2 minutes per question"}),e.jsx("li",{children:"Answer all questions, even if you're unsure (no negative marking)"}),e.jsx("li",{children:"Use the flag feature to mark questions you want to review"}),e.jsx("li",{children:"Review all flagged questions before submitting"})]})]}),K&&e.jsx("div",{className:"mb-6 p-4 bg-error-50 border border-error-200 rounded-lg",children:e.jsx("p",{className:"text-error-700",children:K})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(b,{variant:"primary",size:"lg",onClick:be,loading:U,disabled:U,className:"min-w-[200px]",children:U?"Loading Exam...":"Start Exam"})})]})});if(v==="completed"&&E)return e.jsx(fe,{score:E.score,totalQuestions:o,percentage:E.percentage,passed:E.passed,passingScore:L,timeUsed:E.timeUsed,timeLimit:N,unitBreakdown:E.unitBreakdown,onReviewAnswers:Se,onRetake:Le,onDashboard:Ee,showCelebration:E.passed});if((v==="in-progress"||v==="review")&&h){const s=v==="review",a=h.options.find(u=>u.isCorrect),i=(Q==null?void 0:Q.selectedAnswer)===(a==null?void 0:a.id);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"sticky top-0 z-40 bg-white border-b border-gray-200 shadow-sm",children:e.jsxs("div",{className:"container mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex-shrink-0",children:[v==="in-progress"&&e.jsx(ge,{duration:N,onTimeUp:Me,isRunning:pe,showControls:!1}),s&&e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Review Mode"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Question ",c+1," of ",o]}),e.jsx(b,{variant:"ghost",size:"sm",onClick:()=>se(!0),leftIcon:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),children:"Navigator"})]})]}),e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary-500 transition-all duration-300",style:{width:`${(c+1)/o*100}%`}})})})]})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(De,{questionNumber:c+1,totalQuestions:o,question:{id:h.id,question:h.questionText,options:{A:((ie=h.options[0])==null?void 0:ie.text)||"",B:((le=h.options[1])==null?void 0:le.text)||"",C:((oe=h.options[2])==null?void 0:oe.text)||"",D:((ce=h.options[3])==null?void 0:ce.text)||""},correctAnswer:(a==null?void 0:a.id)||"A",explanation:h.explanation||"",difficulty:h.difficulty,unitTitle:`Unit ${h.unitId}`,chapterTitle:h.chapterId},selectedAnswer:(Q==null?void 0:Q.selectedAnswer)||null,onAnswerSelect:Ne,showResult:s,isCorrect:i,isBookmarked:k.has(c),onBookmarkToggle:re,disabled:s}),e.jsxs("div",{className:"mt-6 flex items-center justify-between gap-4",children:[e.jsx(b,{variant:"secondary",size:"md",onClick:Ce,disabled:c===0,leftIcon:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),children:"Previous"}),!s&&e.jsx(b,{variant:k.has(c)?"danger":"ghost",size:"md",onClick:re,leftIcon:e.jsx("svg",{className:"w-5 h-5",fill:k.has(c)?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})}),children:k.has(c)?"Flagged":"Flag for Review"}),c===o-1?e.jsx(b,{variant:"primary",size:"md",onClick:()=>{s?W("completed"):D(!0)},rightIcon:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),children:s?"Back to Results":"Submit Exam"}):e.jsx(b,{variant:"primary",size:"md",onClick:ke,rightIcon:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),children:"Next"})]})]})}),e.jsx(Ue,{questions:ze(),currentIndex:c,onNavigate:ye,mode:"modal",isOpen:je,onClose:()=>se(!1)}),e.jsx(He,{isOpen:we,onClose:()=>D(!1),title:"Submit Exam",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"Are you sure you want to submit your exam? You won't be able to change your answers after submission."}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Answered:"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[A.answered,"/",o]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Unanswered:"}),e.jsx("span",{className:"font-semibold text-warning-600",children:A.unanswered})]}),A.flagged>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Flagged for Review:"}),e.jsx("span",{className:"font-semibold text-error-600",children:A.flagged})]})]}),A.unanswered>0&&e.jsx("div",{className:"p-3 bg-warning-50 border border-warning-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-warning-800",children:["You have ",A.unanswered," unanswered question",A.unanswered>1?"s":"",". You can still go back and answer them."]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(b,{variant:"ghost",size:"md",fullWidth:!0,onClick:()=>D(!1),children:"Go Back"}),e.jsx(b,{variant:"primary",size:"md",fullWidth:!0,onClick:H,children:"Submit Exam"})]})]})})]})}return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Be,{size:"lg"})})}export{as as MockExamPage};
//# sourceMappingURL=MockExamPage-Co1QhE_Y.js.map
