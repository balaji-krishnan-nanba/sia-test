import{E as b,j as e,B as x,C as i}from"./index-DKDRh3Ci.js";import{h as k,f as w,c}from"./react-vendor-CYaOf62E.js";import{M as P}from"./Modal-B4PKGg3O.js";import{g as S,a as C}from"./mockTestProgress-BuL2M9rS.js";import"./supabase-Dgb8Dr8T.js";function T(){const{examSlug:a}=k(),d=w(),[h,u]=c.useState([]),[t,j]=c.useState(null),[g,m]=c.useState(!1),[l,p]=c.useState({completed:0,notAttempted:0,passed:0,failed:0,averageScore:0}),r=a?b[a]:null;if(c.useEffect(()=>{if(!a||!r){d("/");return}const s=r.examPapers.map(n=>{const o=S(a,n.examNumber);return{examNumber:n.examNumber,examPaper:n,status:o?"attempted":"not-attempted",result:o}});u(s);const y=C(a);p({...y,notAttempted:s.filter(n=>n.status==="not-attempted").length})},[a,r,d]),!a||!r)return null;const f=s=>{j(s),m(!0)},N=()=>{t&&d(`/exam/${a}/mock/${t.examNumber}`)},v=()=>{d(`/exam/${a}`)};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(x,{variant:"ghost",size:"sm",onClick:v,leftIcon:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),children:"Back to Exam"}),e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mt-4",children:[r.name," Exam Papers"]}),e.jsxs("p",{className:"text-gray-600 mt-2",children:["Complete all ",r.examPapers.length," exam papers to be fully prepared for your qualification. These match the official SIA exam structure."]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:[e.jsx(i,{padding:"md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-primary-600",children:l.completed}),e.jsx("p",{className:"text-sm text-gray-600",children:"Completed"})]})}),e.jsx(i,{padding:"md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:l.notAttempted}),e.jsx("p",{className:"text-sm text-gray-600",children:"Remaining"})]})}),e.jsx(i,{padding:"md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-accent-600",children:l.passed}),e.jsx("p",{className:"text-sm text-gray-600",children:"Passed"})]})}),e.jsx(i,{padding:"md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-error-600",children:l.failed}),e.jsx("p",{className:"text-sm text-gray-600",children:"Failed"})]})}),e.jsx(i,{padding:"md",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:[l.averageScore,"%"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Score"})]})})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:h.map(s=>e.jsxs(i,{padding:"lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Exam ",s.examNumber]}),e.jsx("p",{className:"text-md font-medium text-primary-600 mt-1",children:s.examPaper.examName}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[s.examPaper.questions," questions • ",s.examPaper.timeMinutes," minutes • ",s.examPaper.passingScore,"% to pass"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Unit",s.examPaper.unitsCovered.length>1?"s":"",": ",s.examPaper.unitsCovered.join(" & ")]})]}),e.jsx("div",{className:"flex-shrink-0",children:s.status==="attempted"?e.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-accent-100",children:e.jsx("svg",{className:"w-5 h-5 text-accent-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):e.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-100",children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})})]}),s.result?e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:`p-3 rounded-lg ${s.result.passed?"bg-accent-50 border border-accent-200":"bg-warning-50 border border-warning-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Last Score"}),e.jsxs("span",{className:`text-lg font-bold ${s.result.passed?"text-accent-600":"text-warning-600"}`,children:[s.result.percentage,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[e.jsxs("span",{children:[s.result.score,"/",s.result.totalQuestions," correct"]}),e.jsx("span",{className:s.result.passed?"text-accent-600 font-semibold":"text-warning-600 font-semibold",children:s.result.passed?"PASSED":"NOT PASSED"})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(s.result.completedAt).toLocaleDateString()})]})}):e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"p-3 rounded-lg bg-gray-50 border border-gray-200",children:e.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Not attempted yet"})})}),e.jsx(x,{variant:s.status==="attempted"?"secondary":"primary",size:"md",fullWidth:!0,onClick:()=>f(s),children:s.status==="attempted"?"Retake Exam":"Start Exam"})]},s.examNumber))}),e.jsx(P,{isOpen:g,onClose:()=>m(!1),title:t?`Exam ${t.examNumber} - ${t.examPaper.examName}`:"",size:"lg",children:t&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Exam Paper Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-primary-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Questions"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.examPaper.questions})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-primary-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Time Limit"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[t.examPaper.timeMinutes," minutes"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-accent-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-accent-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Passing Score"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[t.examPaper.passingScore,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-primary-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Units Covered"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.examPaper.unitsCovered.join(" & ")})]})]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Pass Requirements"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["You need to answer at least"," ",e.jsx("span",{className:"font-bold text-primary-600",children:Math.ceil(t.examPaper.questions*t.examPaper.passingScore/100)})," ","out of ",t.examPaper.questions," questions correctly (",t.examPaper.passingScore,"%) to pass this exam paper."]}),t.examPaper.passingScore===80&&e.jsx("p",{className:"text-sm text-warning-600 mt-2 font-medium",children:"Note: This exam paper has an elevated 80% pass mark due to critical safety content."})]}),e.jsxs("div",{className:"p-4 bg-primary-50 border border-primary-200 rounded-lg",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-primary-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Important Notes"]}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[e.jsx("li",{children:"This exam paper matches the official SIA exam structure"}),e.jsx("li",{children:"Questions are drawn from the units covered by this paper"}),e.jsx("li",{children:"You can navigate between questions and change answers before submitting"}),e.jsx("li",{children:"The exam will auto-submit when time expires"}),e.jsx("li",{children:"You can retake this exam as many times as you want"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(x,{variant:"ghost",size:"md",fullWidth:!0,onClick:()=>m(!1),children:"Cancel"}),e.jsxs(x,{variant:"primary",size:"md",fullWidth:!0,onClick:N,children:["Start Exam ",t.examNumber]})]})]})})]})})}export{T as MockTestListPage};
//# sourceMappingURL=MockTestListPage-C1SFbCj7.js.map
