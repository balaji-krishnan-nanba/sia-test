{"version":3,"file":"progressTracker-Ttbwvfu5.js","sources":["../../src/utils/seededRandom.ts","../../src/utils/questionRandomizer.ts","../../src/components/quiz/AnswerOptions.tsx","../../src/components/quiz/ExplanationPanel.tsx","../../src/components/quiz/QuestionCard.tsx","../../src/components/quiz/QuestionNavigator.tsx","../../src/utils/progressTracker.ts"],"sourcesContent":["/**\n * Seeded Random Number Generator\n * Uses Linear Congruential Generator (LCG) for deterministic randomness\n */\n\n/**\n * Create a seeded random number generator\n * @param seed - Integer seed value\n * @returns Function that generates random numbers between 0 and 1\n */\nexport function createSeededRandom(seed: number): () => number {\n  let state = Math.abs(Math.floor(seed)) || 1;\n\n  return () => {\n    // LCG formula: (a * state + c) % m\n    // Using values from Numerical Recipes\n    state = (state * 1664525 + 1013904223) % 4294967296;\n    return state / 4294967296;\n  };\n}\n\n/**\n * Seeded Fisher-Yates shuffle\n * @param array - Array to shuffle\n * @param seed - Seed for random number generator\n * @returns Shuffled array (creates a new array)\n */\nexport function seededShuffle<T>(array: T[], seed: number): T[] {\n  const shuffled = [...array];\n  const random = createSeededRandom(seed);\n\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(random() * (i + 1));\n    const temp = shuffled[i]!;\n    shuffled[i] = shuffled[j]!;\n    shuffled[j] = temp;\n  }\n\n  return shuffled;\n}\n\n/**\n * Generate a consistent seed from exam slug and test number\n * @param examSlug - The exam identifier\n * @param testNumber - Test number (1-10)\n * @returns Integer seed\n */\nexport function generateMockTestSeed(examSlug: string, testNumber: number): number {\n  // Create a deterministic hash from exam slug and test number\n  let hash = 0;\n  const str = `${examSlug}-test-${testNumber}`;\n\n  for (let i = 0; i < str.length; i++) {\n    const char = str.charCodeAt(i);\n    hash = ((hash << 5) - hash) + char;\n    hash = hash & hash; // Convert to 32-bit integer\n  }\n\n  return Math.abs(hash);\n}\n","/**\n * Question Randomizer - Shuffle and generate quiz/exam questions\n */\n\nimport type { Question, DifficultyLevel } from '@/types/question';\nimport { loadExamQuestions, filterQuestions } from '@/lib/questionLoader';\nimport { seededShuffle } from '@/utils/seededRandom';\n\n/**\n * Quiz generation options\n */\nexport interface QuizOptions {\n  count: number;\n  difficulty?: DifficultyLevel[];\n  units?: number[];\n  chapters?: string[];\n  tags?: string[];\n  shuffleAnswers?: boolean;\n}\n\n/**\n * Mock exam difficulty distribution\n */\nconst MOCK_EXAM_DIFFICULTY_DISTRIBUTION = {\n  easy: 0.4, // 40%\n  medium: 0.4, // 40%\n  hard: 0.2, // 20%\n};\n\n/**\n * Fisher-Yates shuffle algorithm\n * @param array - Array to shuffle\n * @returns Shuffled array (creates a new array)\n */\nfunction shuffle<T>(array: T[]): T[] {\n  const shuffled = [...array];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    const temp = shuffled[i]!;\n    shuffled[i] = shuffled[j]!;\n    shuffled[j] = temp;\n  }\n  return shuffled;\n}\n\n/**\n * Shuffle questions array\n * @param questions - Questions to shuffle\n * @returns Shuffled questions (new array)\n */\nexport function shuffleQuestions(questions: Question[]): Question[] {\n  return shuffle(questions);\n}\n\n/**\n * Shuffle answer options for a question\n * @param question - Question to shuffle answers for\n * @returns New question with shuffled options\n */\nexport function shuffleAnswers(question: Question): Question {\n  return {\n    ...question,\n    options: shuffle(question.options),\n  };\n}\n\n/**\n * Generate a quiz from a set of questions based on options\n * @param questions - Source questions\n * @param options - Quiz generation options\n * @returns Selected questions for the quiz\n */\nexport function generateQuiz(questions: Question[], options: QuizOptions): Question[] {\n  let filteredQuestions = [...questions];\n\n  // Apply difficulty filter\n  if (options.difficulty && options.difficulty.length > 0) {\n    filteredQuestions = filteredQuestions.filter((q) =>\n      options.difficulty!.includes(q.difficulty)\n    );\n  }\n\n  // Apply unit filter\n  if (options.units && options.units.length > 0) {\n    filteredQuestions = filteredQuestions.filter((q) => {\n      const unitNumber = parseInt(q.unitId.substring(1));\n      return options.units!.includes(unitNumber);\n    });\n  }\n\n  // Apply chapter filter\n  if (options.chapters && options.chapters.length > 0) {\n    filteredQuestions = filteredQuestions.filter((q) =>\n      options.chapters!.includes(q.chapterId)\n    );\n  }\n\n  // Apply tags filter\n  if (options.tags && options.tags.length > 0) {\n    filteredQuestions = filteredQuestions.filter((q) => {\n      const questionTags = q.tags || [];\n      return options.tags!.some((tag) => questionTags.includes(tag));\n    });\n  }\n\n  // Shuffle questions\n  const shuffled = shuffleQuestions(filteredQuestions);\n\n  // Take the requested number\n  const selected = shuffled.slice(0, Math.min(options.count, shuffled.length));\n\n  // Optionally shuffle answer options\n  if (options.shuffleAnswers) {\n    return selected.map(shuffleAnswers);\n  }\n\n  return selected;\n}\n\n/**\n * Generate a balanced mock exam with proper difficulty and unit distribution\n * @param examSlug - The exam type\n * @param count - Total number of questions\n * @param options - Additional options\n * @returns Promise resolving to selected questions\n */\nexport async function generateMockExam(\n  examSlug: 'door-supervisor' | 'security-guard' | 'cctv-operator' | 'close-protection',\n  count: number,\n  options: {\n    shuffleAnswers?: boolean;\n    ensureBalancedUnits?: boolean;\n    seed?: number; // Optional seed for reproducible question selection\n    filterUnits?: number[]; // Optional filter by unit numbers (for exam-paper-specific tests)\n  } = {}\n): Promise<Question[]> {\n  const {\n    shuffleAnswers: shouldShuffleAnswers = true,\n    ensureBalancedUnits = true,\n    seed,\n    filterUnits,\n  } = options;\n\n  // Create shuffle function based on whether seed is provided\n  const shuffleFn = <T>(array: T[]): T[] => {\n    return seed !== undefined ? seededShuffle(array, seed) : shuffle(array);\n  };\n\n  // Load all questions for the exam\n  let allQuestions = await loadExamQuestions(examSlug);\n\n  // Filter by units if specified (for exam-paper-specific tests)\n  if (filterUnits && filterUnits.length > 0) {\n    allQuestions = allQuestions.filter((q) => {\n      const unitNumber = parseInt(q.unitId.substring(1));\n      return filterUnits.includes(unitNumber);\n    });\n  }\n\n  if (allQuestions.length === 0) {\n    throw new Error(`No questions found for exam: ${examSlug}`);\n  }\n\n  // Calculate target counts for each difficulty level\n  const targetCounts = {\n    easy: Math.round(count * MOCK_EXAM_DIFFICULTY_DISTRIBUTION.easy),\n    medium: Math.round(count * MOCK_EXAM_DIFFICULTY_DISTRIBUTION.medium),\n    hard: Math.round(count * MOCK_EXAM_DIFFICULTY_DISTRIBUTION.hard),\n  };\n\n  // Adjust to match exact count (due to rounding)\n  const diff = count - (targetCounts.easy + targetCounts.medium + targetCounts.hard);\n  if (diff !== 0) {\n    targetCounts.medium += diff;\n  }\n\n  // Group questions by difficulty\n  const questionsByDifficulty = {\n    easy: allQuestions.filter((q) => q.difficulty === 'easy'),\n    medium: allQuestions.filter((q) => q.difficulty === 'medium'),\n    hard: allQuestions.filter((q) => q.difficulty === 'hard'),\n  };\n\n  // Check if we have enough questions\n  Object.entries(questionsByDifficulty).forEach(([difficulty, questions]) => {\n    const target = targetCounts[difficulty as DifficultyLevel];\n    if (questions.length < target) {\n      console.warn(\n        `Not enough ${difficulty} questions. Required: ${target}, Available: ${questions.length}`\n      );\n    }\n  });\n\n  const selectedQuestions: Question[] = [];\n\n  // Select questions for each difficulty level\n  if (ensureBalancedUnits) {\n    // Ensure balanced unit distribution for each difficulty level\n    for (const [difficulty, target] of Object.entries(targetCounts)) {\n      const availableQuestions = questionsByDifficulty[difficulty as DifficultyLevel];\n\n      // Group by unit\n      const questionsByUnit = new Map<string, Question[]>();\n      availableQuestions.forEach((q) => {\n        if (!questionsByUnit.has(q.unitId)) {\n          questionsByUnit.set(q.unitId, []);\n        }\n        questionsByUnit.get(q.unitId)!.push(q);\n      });\n\n      // Shuffle questions within each unit\n      questionsByUnit.forEach((questions) => {\n        const unitId = questions[0]?.unitId;\n        if (unitId) {\n          questionsByUnit.set(unitId, shuffleFn(questions));\n        }\n      });\n\n      // Round-robin selection from units\n      const units = Array.from(questionsByUnit.keys()).sort();\n      let unitIndex = 0;\n      let selected = 0;\n\n      while (selected < target && selectedQuestions.length < count) {\n        const currentUnit = units[unitIndex % units.length]!;\n        const unitQuestions = questionsByUnit.get(currentUnit)!;\n\n        if (unitQuestions.length > 0) {\n          const question = unitQuestions.shift()!;\n          selectedQuestions.push(question);\n          selected++;\n        }\n\n        unitIndex++;\n\n        // Break if all units are exhausted\n        if (Array.from(questionsByUnit.values()).every((q) => q.length === 0)) {\n          break;\n        }\n      }\n    }\n  } else {\n    // Simple selection without unit balancing\n    for (const [difficulty, target] of Object.entries(targetCounts)) {\n      const availableQuestions = shuffleFn(questionsByDifficulty[difficulty as DifficultyLevel]);\n      const toSelect = Math.min(target, availableQuestions.length);\n      selectedQuestions.push(...availableQuestions.slice(0, toSelect));\n    }\n  }\n\n  // Shuffle the final question order\n  let finalQuestions = shuffleFn(selectedQuestions);\n\n  // Optionally shuffle answer options\n  if (shouldShuffleAnswers) {\n    if (seed !== undefined) {\n      // Use seeded shuffle for answer options\n      finalQuestions = finalQuestions.map((q, idx) => ({\n        ...q,\n        options: seededShuffle(q.options, seed + 1000 + idx),\n      }));\n    } else {\n      finalQuestions = finalQuestions.map(shuffleAnswers);\n    }\n  }\n\n  return finalQuestions;\n}\n\n/**\n * Generate a practice quiz from specific chapters\n * @param examSlug - The exam type\n * @param units - Unit numbers to include\n * @param chapters - Chapter IDs to include\n * @param count - Number of questions\n * @param shuffleAnswers - Whether to shuffle answer options\n * @returns Promise resolving to selected questions\n */\nexport async function generateChapterQuiz(\n  examSlug: 'door-supervisor' | 'security-guard' | 'cctv-operator' | 'close-protection',\n  units: number[],\n  chapters: string[],\n  count: number,\n  shouldShuffleAnswers = false\n): Promise<Question[]> {\n  const filteredQuestions = await filterQuestions(examSlug, {\n    units,\n    chapters,\n  });\n\n  if (filteredQuestions.length === 0) {\n    throw new Error('No questions found for the specified chapters');\n  }\n\n  const shuffled = shuffleQuestions(filteredQuestions);\n  const selected = shuffled.slice(0, Math.min(count, shuffled.length));\n\n  if (shouldShuffleAnswers) {\n    return selected.map((q) => shuffleAnswers(q));\n  }\n\n  return selected;\n}\n\n/**\n * Generate a difficulty-focused quiz\n * @param examSlug - The exam type\n * @param difficulty - Target difficulty levels\n * @param count - Number of questions\n * @param shouldShuffleAnswers - Whether to shuffle answer options\n * @returns Promise resolving to selected questions\n */\nexport async function generateDifficultyQuiz(\n  examSlug: 'door-supervisor' | 'security-guard' | 'cctv-operator' | 'close-protection',\n  difficulty: DifficultyLevel[],\n  count: number,\n  shouldShuffleAnswers = false\n): Promise<Question[]> {\n  const filteredQuestions = await filterQuestions(examSlug, {\n    difficulty,\n  });\n\n  if (filteredQuestions.length === 0) {\n    throw new Error('No questions found for the specified difficulty levels');\n  }\n\n  const shuffled = shuffleQuestions(filteredQuestions);\n  const selected = shuffled.slice(0, Math.min(count, shuffled.length));\n\n  if (shouldShuffleAnswers) {\n    return selected.map((q) => shuffleAnswers(q));\n  }\n\n  return selected;\n}\n\n/**\n * Get questions statistics\n * @param questions - Questions to analyze\n * @returns Statistics about the question set\n */\nexport function getQuestionStats(questions: Question[]): {\n  total: number;\n  byDifficulty: Record<DifficultyLevel, number>;\n  byUnit: Record<string, number>;\n  byChapter: Record<string, number>;\n} {\n  const stats = {\n    total: questions.length,\n    byDifficulty: { easy: 0, medium: 0, hard: 0 } as Record<DifficultyLevel, number>,\n    byUnit: {} as Record<string, number>,\n    byChapter: {} as Record<string, number>,\n  };\n\n  questions.forEach((q) => {\n    // Count by difficulty\n    stats.byDifficulty[q.difficulty]++;\n\n    // Count by unit\n    if (!stats.byUnit[q.unitId]) {\n      stats.byUnit[q.unitId] = 0;\n    }\n    stats.byUnit[q.unitId]!++;\n\n    // Count by chapter\n    if (!stats.byChapter[q.chapterId]) {\n      stats.byChapter[q.chapterId] = 0;\n    }\n    stats.byChapter[q.chapterId]!++;\n  });\n\n  return stats;\n}\n","import React, { useEffect } from 'react';\n\nexport interface AnswerOptionsProps {\n  options: {\n    A: string;\n    B: string;\n    C: string;\n    D: string;\n  };\n  selectedAnswer: string | null;\n  correctAnswer?: string;\n  showResult?: boolean;\n  onSelect: (answer: string) => void;\n  disabled?: boolean;\n}\n\nexport const AnswerOptions = React.memo<AnswerOptionsProps>(({\n  options,\n  selectedAnswer,\n  correctAnswer,\n  showResult = false,\n  onSelect,\n  disabled = false,\n}) => {\n  const optionKeys = ['A', 'B', 'C', 'D'] as const;\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyPress = (e: KeyboardEvent) => {\n      if (disabled) return;\n\n      const key = e.key;\n      if (['1', '2', '3', '4'].includes(key)) {\n        const index = parseInt(key) - 1;\n        const answer = optionKeys[index];\n        if (answer) {\n          onSelect(answer);\n        }\n      } else if (optionKeys.includes(key.toUpperCase() as 'A' | 'B' | 'C' | 'D')) {\n        onSelect(key.toUpperCase());\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [disabled, onSelect]);\n\n  const getOptionStyles = (optionKey: string): string => {\n    const baseStyles = 'w-full text-left px-4 py-4 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 min-h-[48px] flex items-start gap-3';\n\n    if (disabled && !showResult) {\n      return `${baseStyles} border-gray-300 bg-gray-50 cursor-not-allowed opacity-50`;\n    }\n\n    if (showResult && correctAnswer) {\n      if (optionKey === correctAnswer) {\n        return `${baseStyles} border-accent-500 bg-accent-50 text-accent-900 font-medium`;\n      }\n      if (optionKey === selectedAnswer && optionKey !== correctAnswer) {\n        return `${baseStyles} border-error-500 bg-error-50 text-error-900`;\n      }\n      return `${baseStyles} border-gray-300 bg-gray-50 text-gray-600`;\n    }\n\n    if (selectedAnswer === optionKey) {\n      return `${baseStyles} border-primary-500 bg-primary-50 text-primary-900 font-medium hover:bg-primary-100 focus:ring-primary-500`;\n    }\n\n    return `${baseStyles} border-gray-300 bg-white hover:border-primary-300 hover:bg-primary-50 focus:ring-primary-500 active:bg-primary-100`;\n  };\n\n  const getIcon = (optionKey: string): React.ReactNode | null => {\n    if (!showResult || !correctAnswer) return null;\n\n    if (optionKey === correctAnswer) {\n      return (\n        <svg className=\"h-5 w-5 text-accent-600 flex-shrink-0 mt-0.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n        </svg>\n      );\n    }\n\n    if (optionKey === selectedAnswer && optionKey !== correctAnswer) {\n      return (\n        <svg className=\"h-5 w-5 text-error-600 flex-shrink-0 mt-0.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n        </svg>\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <div className=\"space-y-3\" role=\"radiogroup\" aria-label=\"Answer options\">\n      {optionKeys.map((optionKey, index) => (\n        <button\n          key={optionKey}\n          onClick={() => !disabled && onSelect(optionKey)}\n          disabled={disabled && !showResult}\n          className={getOptionStyles(optionKey)}\n          role=\"radio\"\n          aria-checked={selectedAnswer === optionKey}\n          aria-label={`Option ${optionKey}: ${options[optionKey]}`}\n        >\n          <span className=\"flex-shrink-0 font-semibold text-gray-700\">\n            {optionKey}.\n          </span>\n          <span className=\"flex-1\">\n            {options[optionKey]}\n          </span>\n          {getIcon(optionKey)}\n          <span className=\"sr-only\">(Press {index + 1})</span>\n        </button>\n      ))}\n    </div>\n  );\n});\n\nAnswerOptions.displayName = 'AnswerOptions';\n","import React from 'react';\n\nexport interface ExplanationPanelProps {\n  explanation: string;\n  isCorrect: boolean;\n  correctAnswer: string;\n  show: boolean;\n}\n\nexport const ExplanationPanel = React.memo<ExplanationPanelProps>(({\n  explanation,\n  isCorrect,\n  correctAnswer,\n  show,\n}) => {\n  if (!show) return null;\n\n  return (\n    <div\n      className={`mt-6 rounded-lg border-l-4 p-4 animate-slide-up ${\n        isCorrect\n          ? 'border-accent-500 bg-accent-50'\n          : 'border-error-500 bg-error-50'\n      }`}\n      role=\"region\"\n      aria-label=\"Answer explanation\"\n      aria-live=\"polite\"\n    >\n      {/* Header */}\n      <div className=\"mb-3 flex items-center gap-2\">\n        {isCorrect ? (\n          <>\n            <svg className=\"h-6 w-6 text-accent-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n            </svg>\n            <h3 className=\"text-lg font-semibold text-accent-900\">Correct!</h3>\n          </>\n        ) : (\n          <>\n            <svg className=\"h-6 w-6 text-error-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n            </svg>\n            <div>\n              <h3 className=\"text-lg font-semibold text-error-900\">Incorrect</h3>\n              <p className=\"text-sm text-error-700\">The correct answer is <strong>{correctAnswer}</strong></p>\n            </div>\n          </>\n        )}\n      </div>\n\n      {/* Explanation */}\n      <div className={`text-sm leading-relaxed ${\n        isCorrect ? 'text-accent-800' : 'text-error-800'\n      }`}>\n        <p className=\"font-medium mb-1\">Explanation:</p>\n        <p>{explanation}</p>\n      </div>\n    </div>\n  );\n});\n\nExplanationPanel.displayName = 'ExplanationPanel';\n","import React from 'react';\nimport { Card } from '../ui/Card';\nimport { DifficultyBadge } from '../ui/Badge';\nimport { AnswerOptions } from './AnswerOptions';\nimport { ExplanationPanel } from './ExplanationPanel';\n\nexport interface QuestionCardProps {\n  questionNumber: number;\n  totalQuestions: number;\n  question: {\n    id: string;\n    question: string;\n    options: {\n      A: string;\n      B: string;\n      C: string;\n      D: string;\n    };\n    correctAnswer: string;\n    explanation: string;\n    difficulty: 'easy' | 'medium' | 'hard';\n    unitTitle?: string;\n    chapterTitle?: string;\n  };\n  selectedAnswer: string | null;\n  onAnswerSelect: (answer: string) => void;\n  showResult?: boolean;\n  isCorrect?: boolean;\n  isBookmarked?: boolean;\n  onBookmarkToggle?: () => void;\n  disabled?: boolean;\n}\n\nexport const QuestionCard = React.memo<QuestionCardProps>(({\n  questionNumber,\n  totalQuestions,\n  question,\n  selectedAnswer,\n  onAnswerSelect,\n  showResult = false,\n  isCorrect = false,\n  isBookmarked = false,\n  onBookmarkToggle,\n  disabled = false,\n}) => {\n  return (\n    <Card padding=\"lg\" className=\"max-w-4xl mx-auto\">\n      {/* Header */}\n      <div className=\"flex items-start justify-between mb-6\">\n        <div className=\"flex items-center gap-3\">\n          <span className=\"text-sm font-medium text-gray-600\">\n            Question {questionNumber} of {totalQuestions}\n          </span>\n          <DifficultyBadge difficulty={question.difficulty} size=\"sm\" />\n        </div>\n        {onBookmarkToggle && (\n          <button\n            onClick={onBookmarkToggle}\n            className=\"p-2 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors\"\n            aria-label={isBookmarked ? 'Remove bookmark' : 'Add bookmark'}\n          >\n            {isBookmarked ? (\n              <svg className=\"h-6 w-6 text-warning-500 fill-current\" viewBox=\"0 0 20 20\">\n                <path d=\"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z\" />\n              </svg>\n            ) : (\n              <svg className=\"h-6 w-6 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\" />\n              </svg>\n            )}\n          </button>\n        )}\n      </div>\n\n      {/* Unit and Chapter Info */}\n      {(question.unitTitle || question.chapterTitle) && (\n        <div className=\"mb-4 text-sm text-gray-600\">\n          {question.unitTitle && <span>{question.unitTitle}</span>}\n          {question.unitTitle && question.chapterTitle && <span className=\"mx-2\">â€¢</span>}\n          {question.chapterTitle && <span>{question.chapterTitle}</span>}\n        </div>\n      )}\n\n      {/* Question Text */}\n      <div className=\"mb-6\">\n        <h2 className=\"text-xl font-semibold text-gray-900 leading-relaxed\">\n          {question.question}\n        </h2>\n      </div>\n\n      {/* Answer Options */}\n      <AnswerOptions\n        options={question.options}\n        selectedAnswer={selectedAnswer}\n        correctAnswer={showResult ? question.correctAnswer : undefined}\n        showResult={showResult}\n        onSelect={onAnswerSelect}\n        disabled={disabled}\n      />\n\n      {/* Explanation Panel */}\n      <ExplanationPanel\n        explanation={question.explanation}\n        isCorrect={isCorrect}\n        correctAnswer={question.correctAnswer}\n        show={showResult}\n      />\n\n      {/* Keyboard Shortcuts Hint */}\n      {!showResult && (\n        <div className=\"mt-6 pt-4 border-t border-gray-200\">\n          <p className=\"text-xs text-gray-500 text-center\">\n            Use keyboard shortcuts: Press <kbd className=\"px-2 py-1 bg-gray-100 rounded\">1-4</kbd> or <kbd className=\"px-2 py-1 bg-gray-100 rounded\">A-D</kbd> to select an answer\n          </p>\n        </div>\n      )}\n    </Card>\n  );\n});\n\nQuestionCard.displayName = 'QuestionCard';\n","import React from 'react';\nimport { Modal } from '../ui/Modal';\n\nexport interface QuestionStatus {\n  answered: boolean;\n  flagged: boolean;\n  correct?: boolean;\n}\n\nexport interface QuestionNavigatorProps {\n  questions: QuestionStatus[];\n  currentIndex: number;\n  onNavigate: (index: number) => void;\n  mode?: 'sidebar' | 'modal';\n  isOpen?: boolean;\n  onClose?: () => void;\n}\n\nexport const QuestionNavigator = React.memo<QuestionNavigatorProps>(({\n  questions,\n  currentIndex,\n  onNavigate,\n  mode = 'modal',\n  isOpen = true,\n  onClose,\n}) => {\n  const answeredCount = questions.filter((q) => q.answered).length;\n  const flaggedCount = questions.filter((q) => q.flagged).length;\n\n  const getQuestionButtonStyles = (index: number, question: QuestionStatus): string => {\n    const baseStyles = 'w-12 h-12 rounded-lg font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 relative';\n\n    if (index === currentIndex) {\n      return `${baseStyles} bg-primary-600 text-white ring-2 ring-primary-500`;\n    }\n\n    if (question.answered) {\n      if (question.correct !== undefined) {\n        return question.correct\n          ? `${baseStyles} bg-accent-100 text-accent-700 border-2 border-accent-500 hover:bg-accent-200`\n          : `${baseStyles} bg-error-100 text-error-700 border-2 border-error-500 hover:bg-error-200`;\n      }\n      return `${baseStyles} bg-secondary-100 text-secondary-700 border-2 border-secondary-400 hover:bg-secondary-200`;\n    }\n\n    return `${baseStyles} bg-white text-gray-700 border-2 border-gray-300 hover:bg-gray-50 hover:border-gray-400`;\n  };\n\n  const NavigatorContent = () => (\n    <div className=\"flex flex-col h-full\">\n      {/* Summary */}\n      <div className=\"mb-6 space-y-2\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Question Navigator</h3>\n        <div className=\"flex items-center gap-4 text-sm text-gray-600\">\n          <div className=\"flex items-center gap-1.5\">\n            <div className=\"h-3 w-3 rounded-full bg-secondary-400\" />\n            <span>{answeredCount} answered</span>\n          </div>\n          <div className=\"flex items-center gap-1.5\">\n            <div className=\"h-3 w-3 rounded-full bg-gray-300\" />\n            <span>{questions.length - answeredCount} unanswered</span>\n          </div>\n          {flaggedCount > 0 && (\n            <div className=\"flex items-center gap-1.5\">\n              <svg className=\"h-3 w-3 text-warning-500 fill-current\" viewBox=\"0 0 20 20\">\n                <path d=\"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z\" />\n              </svg>\n              <span>{flaggedCount} flagged</span>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Question Grid */}\n      <div className=\"grid grid-cols-5 gap-3 overflow-y-auto flex-1\">\n        {questions.map((question, index) => (\n          <button\n            key={index}\n            onClick={() => {\n              onNavigate(index);\n              if (mode === 'modal' && onClose) {\n                onClose();\n              }\n            }}\n            className={getQuestionButtonStyles(index, question)}\n            aria-label={`Question ${index + 1}${question.answered ? ' (answered)' : ''}${question.flagged ? ' (flagged)' : ''}`}\n            aria-current={index === currentIndex ? 'true' : undefined}\n          >\n            <span>{index + 1}</span>\n            {question.flagged && (\n              <svg\n                className=\"absolute -top-1 -right-1 h-4 w-4 text-warning-500 fill-current\"\n                viewBox=\"0 0 20 20\"\n                aria-hidden=\"true\"\n              >\n                <path d=\"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z\" />\n              </svg>\n            )}\n          </button>\n        ))}\n      </div>\n\n      {/* Legend */}\n      <div className=\"mt-6 pt-4 border-t border-gray-200\">\n        <p className=\"text-xs font-medium text-gray-700 mb-2\">Legend:</p>\n        <div className=\"grid grid-cols-2 gap-2 text-xs text-gray-600\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-8 h-8 rounded-lg bg-primary-600\" />\n            <span>Current</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-8 h-8 rounded-lg bg-secondary-100 border-2 border-secondary-400\" />\n            <span>Answered</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-8 h-8 rounded-lg bg-white border-2 border-gray-300\" />\n            <span>Unanswered</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-8 h-8 rounded-lg bg-accent-100 border-2 border-accent-500\" />\n            <span>Correct</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  if (mode === 'modal') {\n    return (\n      <Modal isOpen={isOpen} onClose={onClose || (() => {})} title=\"Navigate Questions\" size=\"md\">\n        <NavigatorContent />\n      </Modal>\n    );\n  }\n\n  // Sidebar mode\n  return (\n    <div className=\"bg-white rounded-lg border border-gray-200 shadow-card p-6 h-full\">\n      <NavigatorContent />\n    </div>\n  );\n});\n\nQuestionNavigator.displayName = 'QuestionNavigator';\n","/**\n * Progress Tracker - Track and persist user progress with Supabase\n */\n\nimport { supabase } from '@/lib/supabase';\nimport type { QuestionAttempt } from './scorer';\nimport type { SIAQualification } from '@/types/question';\nimport type { UserProgress } from '@/types/progress';\n\n/**\n * Streak data\n */\nexport interface StreakData {\n  currentStreak: number;\n  longestStreak: number;\n  lastStudyDate: string | null;\n  streakStartDate: string | null;\n}\n\n/**\n * Local cache for user progress to reduce database calls\n */\nconst progressCache = new Map<string, { data: UserProgress; timestamp: number }>();\nconst CACHE_TTL = 5 * 60 * 1000; // 5 minutes\n\n/**\n * Save a question attempt to the database\n * @param userId - The user ID\n * @param attempt - The question attempt data\n * @returns Promise that resolves when saved\n */\nexport async function saveQuestionAttempt(\n  userId: string,\n  attempt: QuestionAttempt\n): Promise<void> {\n  try {\n    const { error } = await supabase.from('question_attempts').insert({\n      user_id: userId,\n      question_id: attempt.questionId,\n      unit_id: attempt.unitId,\n      chapter_id: attempt.chapterId,\n      difficulty: attempt.difficulty,\n      user_answer: attempt.userAnswer,\n      correct_answer: attempt.correctAnswer,\n      is_correct: attempt.isCorrect,\n      time_spent: attempt.timeSpent,\n      attempted_at: attempt.attemptedAt,\n    });\n\n    if (error) {\n      console.error('Error saving question attempt:', error);\n      throw new Error('Failed to save question attempt');\n    }\n\n    // Invalidate cache\n    progressCache.delete(userId);\n\n    // Update daily activity\n    await updateDailyActivity(userId, attempt);\n  } catch (error) {\n    console.error('Error in saveQuestionAttempt:', error);\n    throw error;\n  }\n}\n\n/**\n * Update daily activity stats\n * @param userId - The user ID\n * @param attempt - The question attempt data\n */\nasync function updateDailyActivity(userId: string, attempt: QuestionAttempt): Promise<void> {\n  const today = new Date().toISOString().split('T')[0]; // YYYY-MM-DD\n\n  try {\n    // Check if today's activity exists\n    const { data: existing, error: fetchError } = await supabase\n      .from('daily_activities')\n      .select('*')\n      .eq('user_id', userId)\n      .eq('date', today)\n      .single();\n\n    if (fetchError && fetchError.code !== 'PGRST116') {\n      // PGRST116 = no rows returned\n      throw fetchError;\n    }\n\n    const studyTimeMinutes = Math.ceil(attempt.timeSpent / 60);\n\n    if (existing) {\n      // Update existing record\n      const { error: updateError } = await supabase\n        .from('daily_activities')\n        .update({\n          questions_answered: existing.questions_answered + 1,\n          correct_answers: existing.correct_answers + (attempt.isCorrect ? 1 : 0),\n          study_time: existing.study_time + studyTimeMinutes,\n          updated_at: new Date().toISOString(),\n        })\n        .eq('id', existing.id);\n\n      if (updateError) {\n        throw updateError;\n      }\n    } else {\n      // Create new record\n      const { error: insertError } = await supabase.from('daily_activities').insert({\n        user_id: userId,\n        date: today,\n        questions_answered: 1,\n        correct_answers: attempt.isCorrect ? 1 : 0,\n        study_time: studyTimeMinutes,\n        mock_exams_taken: 0,\n      });\n\n      if (insertError) {\n        throw insertError;\n      }\n    }\n  } catch (error) {\n    console.error('Error updating daily activity:', error);\n    // Don't throw - this is a non-critical operation\n  }\n}\n\n/**\n * Get user progress for a specific exam\n * @param userId - The user ID\n * @param examSlug - The exam/qualification slug\n * @returns Promise resolving to user progress data\n */\nexport async function getUserProgress(\n  userId: string,\n  _examSlug: string\n): Promise<UserProgress | null> {\n  // Check cache first\n  const cached = progressCache.get(userId);\n  if (cached && Date.now() - cached.timestamp < CACHE_TTL) {\n    return cached.data;\n  }\n\n  try {\n    const { data, error } = await supabase\n      .from('user_progress')\n      .select('*')\n      .eq('user_id', userId)\n      .single();\n\n    if (error) {\n      if (error.code === 'PGRST116') {\n        // No progress record yet\n        return null;\n      }\n      throw error;\n    }\n\n    // Cache the result\n    progressCache.set(userId, {\n      data: data as UserProgress,\n      timestamp: Date.now(),\n    });\n\n    return data as UserProgress;\n  } catch (error) {\n    console.error('Error fetching user progress:', error);\n    throw new Error('Failed to fetch user progress');\n  }\n}\n\n/**\n * Get attempt history for a specific question\n * @param userId - The user ID\n * @param questionId - The question ID\n * @returns Promise resolving to array of attempts\n */\nexport async function getAttemptHistory(\n  userId: string,\n  questionId: string\n): Promise<QuestionAttempt[]> {\n  try {\n    const { data, error } = await supabase\n      .from('question_attempts')\n      .select('*')\n      .eq('user_id', userId)\n      .eq('question_id', questionId)\n      .order('attempted_at', { ascending: false });\n\n    if (error) {\n      throw error;\n    }\n\n    // Convert from database format to QuestionAttempt format\n    return (\n      data?.map(\n        (row): QuestionAttempt => ({\n          questionId: row.question_id,\n          unitId: row.unit_id,\n          chapterId: row.chapter_id,\n          difficulty: row.difficulty,\n          userAnswer: row.user_answer,\n          correctAnswer: row.correct_answer,\n          isCorrect: row.is_correct,\n          timeSpent: row.time_spent,\n          attemptedAt: row.attempted_at,\n        })\n      ) || []\n    );\n  } catch (error) {\n    console.error('Error fetching attempt history:', error);\n    throw new Error('Failed to fetch attempt history');\n  }\n}\n\n/**\n * Get all attempts for a user\n * @param userId - The user ID\n * @param qualification - Optional qualification filter\n * @param limit - Maximum number of attempts to return\n * @returns Promise resolving to array of attempts\n */\nexport async function getAllAttempts(\n  userId: string,\n  qualification?: SIAQualification,\n  limit?: number\n): Promise<QuestionAttempt[]> {\n  try {\n    let query = supabase\n      .from('question_attempts')\n      .select('*')\n      .eq('user_id', userId)\n      .order('attempted_at', { ascending: false });\n\n    if (limit) {\n      query = query.limit(limit);\n    }\n\n    const { data, error } = await query;\n\n    if (error) {\n      throw error;\n    }\n\n    // Convert from database format to QuestionAttempt format\n    let attempts: QuestionAttempt[] =\n      data?.map(\n        (row): QuestionAttempt => ({\n          questionId: row.question_id,\n          unitId: row.unit_id,\n          chapterId: row.chapter_id,\n          difficulty: row.difficulty,\n          userAnswer: row.user_answer,\n          correctAnswer: row.correct_answer,\n          isCorrect: row.is_correct,\n          timeSpent: row.time_spent,\n          attemptedAt: row.attempted_at,\n        })\n      ) || [];\n\n    // Filter by qualification if specified\n    if (qualification) {\n      const qualCode = qualification.toLowerCase();\n      attempts = attempts.filter((a) => a.questionId.toLowerCase().startsWith(qualCode));\n    }\n\n    return attempts;\n  } catch (error) {\n    console.error('Error fetching all attempts:', error);\n    throw new Error('Failed to fetch attempts');\n  }\n}\n\n/**\n * Calculate study streak for a user\n * @param userId - The user ID\n * @returns Promise resolving to streak data\n */\nexport async function calculateStreak(userId: string): Promise<StreakData> {\n  try {\n    const { data, error } = await supabase\n      .from('daily_activities')\n      .select('date')\n      .eq('user_id', userId)\n      .order('date', { ascending: false });\n\n    if (error) {\n      throw error;\n    }\n\n    if (!data || data.length === 0) {\n      return {\n        currentStreak: 0,\n        longestStreak: 0,\n        lastStudyDate: null,\n        streakStartDate: null,\n      };\n    }\n\n    const dates = data.map((d) => d.date).sort((a, b) => b.localeCompare(a));\n    const today = new Date().toISOString().split('T')[0];\n    const yesterday = new Date(Date.now() - 86400000).toISOString().split('T')[0];\n\n    let currentStreak = 0;\n    let longestStreak = 0;\n    let tempStreak = 0;\n    let streakStartDate: string | null = null;\n\n    // Check if user studied today or yesterday to maintain streak\n    if (dates[0] === today || dates[0] === yesterday) {\n      currentStreak = 1;\n      streakStartDate = dates[0];\n\n      // Count consecutive days\n      for (let i = 1; i < dates.length; i++) {\n        const currentDate = new Date(dates[i - 1]);\n        const previousDate = new Date(dates[i]);\n        const diffDays = Math.floor(\n          (currentDate.getTime() - previousDate.getTime()) / (1000 * 60 * 60 * 24)\n        );\n\n        if (diffDays === 1) {\n          currentStreak++;\n          streakStartDate = dates[i];\n        } else {\n          break;\n        }\n      }\n    }\n\n    // Calculate longest streak\n    tempStreak = 1;\n    for (let i = 1; i < dates.length; i++) {\n      const currentDate = new Date(dates[i - 1]);\n      const previousDate = new Date(dates[i]);\n      const diffDays = Math.floor(\n        (currentDate.getTime() - previousDate.getTime()) / (1000 * 60 * 60 * 24)\n      );\n\n      if (diffDays === 1) {\n        tempStreak++;\n        longestStreak = Math.max(longestStreak, tempStreak);\n      } else {\n        tempStreak = 1;\n      }\n    }\n\n    longestStreak = Math.max(longestStreak, currentStreak);\n\n    return {\n      currentStreak,\n      longestStreak,\n      lastStudyDate: dates[0],\n      streakStartDate,\n    };\n  } catch (error) {\n    console.error('Error calculating streak:', error);\n    return {\n      currentStreak: 0,\n      longestStreak: 0,\n      lastStudyDate: null,\n      streakStartDate: null,\n    };\n  }\n}\n\n/**\n * Get daily activities for a date range\n * @param userId - The user ID\n * @param startDate - Start date (YYYY-MM-DD)\n * @param endDate - End date (YYYY-MM-DD)\n * @returns Promise resolving to daily activities\n */\nexport async function getDailyActivities(\n  userId: string,\n  startDate: string,\n  endDate: string\n): Promise<\n  Array<{\n    date: string;\n    questionsAnswered: number;\n    correctAnswers: number;\n    studyTime: number;\n    mockExamsTaken: number;\n  }>\n> {\n  try {\n    const { data, error } = await supabase\n      .from('daily_activities')\n      .select('*')\n      .eq('user_id', userId)\n      .gte('date', startDate)\n      .lte('date', endDate)\n      .order('date', { ascending: true });\n\n    if (error) {\n      throw error;\n    }\n\n    return (\n      data?.map((row) => ({\n        date: row.date,\n        questionsAnswered: row.questions_answered,\n        correctAnswers: row.correct_answers,\n        studyTime: row.study_time,\n        mockExamsTaken: row.mock_exams_taken,\n      })) || []\n    );\n  } catch (error) {\n    console.error('Error fetching daily activities:', error);\n    throw new Error('Failed to fetch daily activities');\n  }\n}\n\n/**\n * Clear progress cache for a user\n * @param userId - The user ID\n */\nexport function clearProgressCache(userId?: string): void {\n  if (userId) {\n    progressCache.delete(userId);\n  } else {\n    progressCache.clear();\n  }\n}\n\n/**\n * Save mock exam result\n * @param userId - The user ID\n * @param examData - Mock exam result data\n */\nexport async function saveMockExamResult(\n  userId: string,\n  examData: {\n    qualification: SIAQualification;\n    score: number;\n    passingScore: number;\n    totalQuestions: number;\n    correctAnswers: number;\n    timeSpent: number;\n    questions: Array<{\n      questionId: string;\n      userAnswer: string | null;\n      isCorrect: boolean;\n    }>;\n  }\n): Promise<string> {\n  try {\n    const { data, error } = await supabase\n      .from('mock_exam_attempts')\n      .insert({\n        user_id: userId,\n        qualification: examData.qualification,\n        score: examData.score,\n        passing_score: examData.passingScore,\n        passed: examData.score >= examData.passingScore,\n        total_questions: examData.totalQuestions,\n        correct_answers: examData.correctAnswers,\n        time_spent: examData.timeSpent,\n        questions: examData.questions,\n        completed_at: new Date().toISOString(),\n      })\n      .select('id')\n      .single();\n\n    if (error) {\n      throw error;\n    }\n\n    // Update daily activity\n    const today = new Date().toISOString().split('T')[0];\n    const { data: existing } = await supabase\n      .from('daily_activities')\n      .select('*')\n      .eq('user_id', userId)\n      .eq('date', today)\n      .single();\n\n    if (existing) {\n      await supabase\n        .from('daily_activities')\n        .update({\n          mock_exams_taken: existing.mock_exams_taken + 1,\n        })\n        .eq('id', existing.id);\n    } else {\n      await supabase.from('daily_activities').insert({\n        user_id: userId,\n        date: today,\n        questions_answered: 0,\n        correct_answers: 0,\n        study_time: 0,\n        mock_exams_taken: 1,\n      });\n    }\n\n    // Invalidate cache\n    progressCache.delete(userId);\n\n    return data.id;\n  } catch (error) {\n    console.error('Error saving mock exam result:', error);\n    throw new Error('Failed to save mock exam result');\n  }\n}\n"],"names":["createSeededRandom","seed","state","seededShuffle","array","shuffled","random","i","j","temp","generateMockTestSeed","examSlug","testNumber","hash","str","char","MOCK_EXAM_DIFFICULTY_DISTRIBUTION","shuffle","shuffleQuestions","questions","shuffleAnswers","question","generateMockExam","count","options","shouldShuffleAnswers","ensureBalancedUnits","filterUnits","shuffleFn","allQuestions","loadExamQuestions","q","unitNumber","targetCounts","diff","questionsByDifficulty","difficulty","target","selectedQuestions","availableQuestions","questionsByUnit","unitId","_a","units","unitIndex","selected","currentUnit","unitQuestions","toSelect","finalQuestions","idx","AnswerOptions","React","selectedAnswer","correctAnswer","showResult","onSelect","disabled","optionKeys","useEffect","handleKeyPress","e","key","index","answer","getOptionStyles","optionKey","baseStyles","getIcon","jsx","jsxs","ExplanationPanel","explanation","isCorrect","show","Fragment","QuestionCard","questionNumber","totalQuestions","onAnswerSelect","isBookmarked","onBookmarkToggle","Card","DifficultyBadge","QuestionNavigator","currentIndex","onNavigate","mode","isOpen","onClose","answeredCount","flaggedCount","getQuestionButtonStyles","NavigatorContent","Modal","progressCache","saveQuestionAttempt","userId","attempt","error","supabase","updateDailyActivity","today","existing","fetchError","studyTimeMinutes","updateError","insertError","saveMockExamResult","examData","data"],"mappings":"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"}